{"ast":null,"code":"import _initializerDefineProperty from \"/home/humza/Documents/afterflea/projects/chatgpt_deployment_on_cyclic/OpenAI-Template.1.3-update-auth-signups/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"/home/humza/Documents/afterflea/projects/chatgpt_deployment_on_cyclic/OpenAI-Template.1.3-update-auth-signups/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"/home/humza/Documents/afterflea/projects/chatgpt_deployment_on_cyclic/OpenAI-Template.1.3-update-auth-signups/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13;\nimport axios from 'axios';\nimport { observable, computed, makeObservable } from 'mobx';\nimport { configure } from \"mobx\";\nimport FuzzySet from 'fuzzyset';\nimport Filter from 'bad-words';\nimport TOOLS from './tools';\nimport config from './config';\nlet filterBadWords = new Filter();\nlet baseURL = config.baseURL;\nconfigure({\n  enforceActions: \"never\"\n});\nlet api = axios.create({\n  baseURL\n});\nconst FuzzySearch = FuzzySet([...TOOLS.map(tool => tool.title)]);\nlet appStore = (_class = class appStore {\n  // User Profile\n\n  constructor() {\n    this.api = api;\n    _initializerDefineProperty(this, \"baseURL\", _descriptor, this);\n    _initializerDefineProperty(this, \"redirect\", _descriptor2, this);\n    _initializerDefineProperty(this, \"editor\", _descriptor3, this);\n    _initializerDefineProperty(this, \"editorIsLoading\", _descriptor4, this);\n    _initializerDefineProperty(this, \"profile\", _descriptor5, this);\n    _initializerDefineProperty(this, \"isLoggedIn\", _descriptor6, this);\n    _initializerDefineProperty(this, \"loginLoading\", _descriptor7, this);\n    _initializerDefineProperty(this, \"landingPageUrl\", _descriptor8, this);\n    this.noCreditsRemainPrompt = () => {\n      // set the browser url to the no-credits page\n      window.location.pathname = \"/my-profile\";\n    };\n    this.init = async () => {\n      try {\n        this.referralTrackingCode();\n        const profile = localStorage.getItem(\"profile\");\n        const token = localStorage.getItem(\"token\");\n        if (profile && token) {\n          this.api.defaults.headers.common['x-access-token'] = token;\n          this.profile = JSON.parse(profile);\n          this.isLoggedIn = true;\n          this.refreshTokenAndProfile();\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    _initializerDefineProperty(this, \"referral\", _descriptor9, this);\n    this.referralTrackingCode = async () => {\n      let referral = new URLSearchParams(window.location.search).get(\"referral\");\n      if (referral) {\n        this.setReferral(referral);\n      } else {\n        this.initReferral();\n      }\n    };\n    this.setReferral = async referral => {\n      this.referral = referral;\n      localStorage.setItem(\"referral\", JSON.stringify(referral));\n    };\n    this.initReferral = async () => {\n      const referral = localStorage.getItem(\"referral\");\n      this.referral = referral;\n    };\n    this.loginWithDataTokenAndProfile = async data => {\n      this.setToken(data.token);\n      this.setProfile(data.profile);\n      this.isLoggedIn = true;\n    };\n    this.refreshTokenAndProfile = async () => {\n      try {\n        let data = await this.api.post('/user/refresh/profile').then(_ref => {\n          let {\n            data\n          } = _ref;\n          return data;\n        });\n        if (data) {\n          this.setProfile(data.profile);\n        }\n      } catch (err) {\n        console.log(err);\n        this.handleLogout();\n      }\n    };\n    this.setToken = async token => {\n      this.api.defaults.headers.common['x-access-token'] = token;\n      localStorage.setItem(\"token\", token);\n    };\n    this.setProfile = async profile => {\n      this.profile = profile;\n      localStorage.setItem(\"profile\", JSON.stringify(profile));\n    };\n    this.handleLogout = () => {\n      this.isLoggedIn = false;\n      this.profile = {};\n      this.api.defaults.headers.common['x-access-token'] = \"\";\n      localStorage.removeItem('token');\n      localStorage.removeItem('profile');\n    };\n    _initializerDefineProperty(this, \"toolsKeyword\", _descriptor10, this);\n    this.onChangeToolsKeyword = e => {\n      this.toolsKeyword = e.target.value;\n    };\n    this.getToolByTitle = title => {\n      return TOOLS.find(tool => tool.title === title);\n    };\n    this.getToolByUrl = url => {\n      return TOOLS.find(tool => tool.to === url);\n    };\n    _initializerDefineProperty(this, \"error\", _descriptor11, this);\n    this.checkPrompt = _ref2 => {\n      let {\n        value,\n        attr\n      } = _ref2;\n      if (filterBadWords.isProfane(value)) {\n        // eslint-disable-next-line no-throw-literal\n        throw {\n          success: false,\n          attr,\n          value: value.replace(/^\\s+|\\s+$/g, ''),\n          message: \"Unsafe content detected, please try different language\"\n        };\n      }\n      if (value) {\n        return {\n          success: true,\n          attr,\n          value: value.replace(/^\\s+|\\s+$/g, '')\n        };\n      }\n    };\n    this.checkOutput = output => {\n      if (output) {\n        return output.replace(/^\\s+|\\s+$/g, '');\n      }\n      return \"\";\n    };\n    this.updateCredits = async data => {\n      try {\n        if (data.hasOwnProperty(\"data\")) {\n          if (data.data.hasOwnProperty(\"credits\")) {\n            this.profile.credits = data.data.credits;\n          }\n          if (data.data.hasOwnProperty(\"creditsUsed\")) {\n            this.profile.creditsUsed = data.data.creditsUsed;\n          }\n        } else {\n          if (data.hasOwnProperty(\"credits\")) {\n            this.profile.credits = data.credits;\n          }\n          if (data.hasOwnProperty(\"creditsUsed\")) {\n            this.profile.creditsUsed = data.creditsUsed;\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    _initializerDefineProperty(this, \"copyToClipboardText\", _descriptor12, this);\n    this.copyToClipboard = output => {\n      if (output instanceof Array) {\n        output = output.join(\"\\n\");\n      }\n      if (!navigator.clipboard) {\n        let textarea = document.getElementById('copy-textarea');\n        this.copyToClipboardText = `${output}`;\n        textarea.focus();\n        textarea.select();\n        document.execCommand('copy');\n        return;\n      }\n      navigator.clipboard.writeText(output).then(function () {\n        console.log('Async: Copying to clipboard was successful!');\n      }, function (err) {\n        console.error('Async: Could not copy text: ', err);\n      });\n    };\n    _initializerDefineProperty(this, \"feedback\", _descriptor13, this);\n    this.reportToFeedback = output => {\n      this.redirect = \"/my-profile/feedback\";\n      this.feedback = `${output}`;\n      setTimeout(() => {\n        this.redirect = \"\";\n      }, 50);\n    };\n    makeObservable(this);\n    this.init();\n    // Check credits every time, and log out people who aren't authenticated\n    this.api.interceptors.response.use(response => {\n      this.updateCredits(response);\n      return response;\n    }, error => {\n      console.log(error);\n      console.log(`error.response.statusText`, error.response.statusText);\n      if (error.response && error.response.statusText === \"Token Authentication Failed\") {\n        this.handleLogout();\n      }\n      if (error.response && error.response.statusText === \"No Credit Remaining\") {\n        this.noCreditsRemainPrompt();\n      }\n      return Promise.reject(error);\n    });\n  }\n  get tools() {\n    // let tools = TOOLS.filter(tool => tool.title.toLowerCase().includes(this.toolsKeyword.toLowerCase()))\n    let fuzzyTools = FuzzySearch.get(this.toolsKeyword, 0.5);\n    if (fuzzyTools && fuzzyTools.length) {\n      let fuzzySummary = fuzzyTools.map(fuzzyTool => fuzzyTool[1]);\n      if (fuzzySummary && fuzzySummary.length) {\n        return TOOLS.filter(tool => fuzzySummary.includes(tool.title));\n      }\n    }\n    return TOOLS;\n  }\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"baseURL\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return baseURL;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"redirect\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return ``;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"editor\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"editorIsLoading\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return true;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"profile\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isLoggedIn\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"loginLoading\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"landingPageUrl\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return config.landingPageUrl;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"referral\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"toolsKeyword\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"tools\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"tools\"), _class.prototype), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"error\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"copyToClipboardText\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return ``;\n  }\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"feedback\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return ``;\n  }\n})), _class);\nexport default appStore;","map":{"version":3,"names":["axios","observable","computed","makeObservable","configure","FuzzySet","Filter","TOOLS","config","filterBadWords","baseURL","enforceActions","api","create","FuzzySearch","map","tool","title","appStore","constructor","noCreditsRemainPrompt","window","location","pathname","init","referralTrackingCode","profile","localStorage","getItem","token","defaults","headers","common","JSON","parse","isLoggedIn","refreshTokenAndProfile","err","console","log","referral","URLSearchParams","search","get","setReferral","initReferral","setItem","stringify","loginWithDataTokenAndProfile","data","setToken","setProfile","post","then","handleLogout","removeItem","onChangeToolsKeyword","e","toolsKeyword","target","value","getToolByTitle","find","getToolByUrl","url","to","checkPrompt","attr","isProfane","success","replace","message","checkOutput","output","updateCredits","hasOwnProperty","credits","creditsUsed","copyToClipboard","Array","join","navigator","clipboard","textarea","document","getElementById","copyToClipboardText","focus","select","execCommand","writeText","error","reportToFeedback","redirect","feedback","setTimeout","interceptors","response","use","statusText","Promise","reject","tools","fuzzyTools","length","fuzzySummary","fuzzyTool","filter","includes","landingPageUrl"],"sources":["/home/humza/Documents/afterflea/projects/chatgpt_deployment_on_cyclic/OpenAI-Template.1.3-update-auth-signups/src/store.js"],"sourcesContent":["import axios from 'axios'\r\nimport { observable, computed, makeObservable } from 'mobx'\r\nimport { configure } from \"mobx\"\r\nimport FuzzySet from 'fuzzyset'\r\nimport Filter from 'bad-words'\r\n\r\nimport TOOLS from './tools'\r\nimport config from './config'\r\n\r\n\r\nlet filterBadWords = new Filter()\r\n\r\nlet baseURL = config.baseURL\r\n\r\nconfigure({  enforceActions: \"never\", })\r\n\r\nlet api = axios.create({ baseURL, });\r\n\r\nconst FuzzySearch = FuzzySet([...TOOLS.map(tool => tool.title)]);\r\n\r\nclass appStore {\r\n\r\n\tapi = api\r\n\t@observable baseURL = baseURL\r\n\t@observable redirect = ``\r\n\t@observable editor\r\n\t@observable editorIsLoading = true\r\n\r\n\t// User Profile\r\n\t@observable profile = {}\r\n\t@observable isLoggedIn = false\r\n\t@observable loginLoading = false\r\n\t\r\n\t@observable landingPageUrl = config.landingPageUrl\r\n\t\r\n\teditor\r\n\r\n\tconstructor(){\r\n\t\tmakeObservable(this);\r\n\t\tthis.init()\r\n\t\t// Check credits every time, and log out people who aren't authenticated\r\n\t\tthis.api.interceptors.response.use((response) => {\r\n\t\t\tthis.updateCredits(response)\r\n\t\t\treturn response;\r\n\t\t}, (error) => {\r\n\t\t\tconsole.log(error)\r\n\t\t\tconsole.log(`error.response.statusText`,error.response.statusText)\r\n\t\t\tif (error.response && error.response.statusText === \"Token Authentication Failed\") {\r\n\t\t\t\tthis.handleLogout()\r\n\t\t\t}\r\n\t\t\tif (error.response && error.response.statusText === \"No Credit Remaining\") {\r\n\t\t\t\tthis.noCreditsRemainPrompt()\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\n\tnoCreditsRemainPrompt = () => {\r\n\t\t// set the browser url to the no-credits page\r\n\t\twindow.location.pathname = \"/my-profile\"\r\n\t}\r\n\r\n\tinit = async () => {\r\n\t\ttry {\r\n\t\t\tthis.referralTrackingCode()\r\n\t\t\tconst profile = localStorage.getItem(\"profile\")\r\n\t\t\tconst token = localStorage.getItem(\"token\")\r\n\t\t\tif (profile && token) {\r\n\t\t\t\tthis.api.defaults.headers.common['x-access-token'] = token;\r\n\t\t\t\tthis.profile = JSON.parse(profile)\r\n\t\t\t\tthis.isLoggedIn = true\r\n\t\t\t\tthis.refreshTokenAndProfile()\r\n\t\t\t}\r\n\t\t} catch (err){\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n\r\n\t@observable referral = \"\"\r\n\r\n\treferralTrackingCode = async () => {\r\n\t\tlet referral = new URLSearchParams(window.location.search).get(\"referral\")\r\n\t\tif(referral){\r\n\t\t\tthis.setReferral(referral)\r\n\t\t} else {\r\n\t\t\tthis.initReferral()\r\n\t\t}\r\n\t}\r\n\r\n\tsetReferral = async (referral) => {\r\n\t\tthis.referral = referral\r\n\t\tlocalStorage.setItem(\"referral\", JSON.stringify(referral))\r\n\t}\r\n\t\r\n\tinitReferral = async () => {\r\n\t\tconst referral = localStorage.getItem(\"referral\")\r\n\t\tthis.referral = referral\r\n\t}\r\n\r\n\t\r\n\tloginWithDataTokenAndProfile = async (data) => {\r\n\t\tthis.setToken(data.token)\r\n\t\tthis.setProfile(data.profile)\r\n\t\tthis.isLoggedIn = true\r\n\t}\r\n\r\n\trefreshTokenAndProfile = async () => {\r\n\t\ttry {\r\n\t\t\tlet data = await this.api\r\n\t\t\t\t.post('/user/refresh/profile')\r\n\t\t\t\t.then(({ data }) => data)\r\n\t\t\tif(data){\r\n\t\t\t\tthis.setProfile(data.profile)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t\tthis.handleLogout()\r\n\t\t}\r\n\t}\r\n\r\n\tsetToken = async (token) => {\r\n\t\tthis.api.defaults.headers.common['x-access-token'] = token;\r\n\t\tlocalStorage.setItem(\"token\", token)\r\n\t}\r\n\r\n\tsetProfile = async (profile) => {\r\n\t\tthis.profile = profile\r\n\t\tlocalStorage.setItem(\"profile\", JSON.stringify(profile))\r\n\t}\r\n\r\n\thandleLogout = () => {\r\n\t\tthis.isLoggedIn = false\r\n\t\tthis.profile = {}\r\n\t\tthis.api.defaults.headers.common['x-access-token'] = \"\"\r\n\t\tlocalStorage.removeItem('token')\r\n\t\tlocalStorage.removeItem('profile')\r\n\t}\r\n\r\n\t@observable toolsKeyword = \"\"\r\n\tonChangeToolsKeyword = (e) => {\r\n\t\tthis.toolsKeyword = e.target.value\r\n\t}\r\n\t@computed get tools() {\r\n\t\t// let tools = TOOLS.filter(tool => tool.title.toLowerCase().includes(this.toolsKeyword.toLowerCase()))\r\n\t\tlet fuzzyTools = FuzzySearch.get(this.toolsKeyword, 0.5)\r\n\t\tif(fuzzyTools && fuzzyTools.length){\r\n\t\t\tlet fuzzySummary = fuzzyTools.map(fuzzyTool => fuzzyTool[1])\r\n\t\t\tif(fuzzySummary && fuzzySummary.length) {\r\n\t\t\t\treturn TOOLS.filter(tool => fuzzySummary.includes(tool.title))\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn TOOLS\r\n\t}\r\n\r\n\tgetToolByTitle = (title) => {\r\n\t\treturn TOOLS.find(tool => tool.title === title)\r\n\t}\r\n\tgetToolByUrl = (url) => {\r\n\t\treturn TOOLS.find(tool => tool.to === url)\r\n\t}\r\n\r\n\t@observable error = \"\"\r\n\tcheckPrompt = ({value, attr}) => {\r\n\t\tif(filterBadWords.isProfane(value)){\r\n\t\t\t// eslint-disable-next-line no-throw-literal\r\n\t\t\tthrow {\r\n\t\t\t\tsuccess: false,\r\n\t\t\t\tattr,\r\n\t\t\t\tvalue: value.replace(/^\\s+|\\s+$/g, ''),\r\n\t\t\t\tmessage: \"Unsafe content detected, please try different language\"\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(value){\r\n\t\t\treturn {\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\tattr,\r\n\t\t\t\tvalue: value.replace(/^\\s+|\\s+$/g, ''),\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcheckOutput = (output) => {\r\n\t\tif(output){\r\n\t\t\treturn output.replace(/^\\s+|\\s+$/g, '')\r\n\t\t}\r\n\t\treturn \"\"\r\n\t}\r\n\r\n\tupdateCredits = async (data) => {\r\n\t\ttry {\r\n\t\t\tif(data.hasOwnProperty(\"data\")){\r\n\t\t\t\tif(data.data.hasOwnProperty(\"credits\")){\r\n\t\t\t\t\tthis.profile.credits = data.data.credits\r\n\t\t\t\t}\r\n\t\t\t\tif(data.data.hasOwnProperty(\"creditsUsed\")){\r\n\t\t\t\t\tthis.profile.creditsUsed = data.data.creditsUsed\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(data.hasOwnProperty(\"credits\")){\r\n\t\t\t\t\tthis.profile.credits = data.credits\r\n\t\t\t\t}\r\n\t\t\t\tif(data.hasOwnProperty(\"creditsUsed\")){\r\n\t\t\t\t\tthis.profile.creditsUsed = data.creditsUsed\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n\r\n\t@observable copyToClipboardText = ``\r\n\tcopyToClipboard = (output) => {\r\n\t\tif (output instanceof Array) {\r\n\t\t\toutput = output.join(\"\\n\")\r\n\t\t}\r\n\t\tif (!navigator.clipboard) {\r\n\t\t\tlet textarea = document.getElementById('copy-textarea');\r\n\t\t\tthis.copyToClipboardText = `${output}`;\r\n\t\t\ttextarea.focus();\r\n\t\t\ttextarea.select()\r\n\t\t\tdocument.execCommand('copy')\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnavigator.clipboard.writeText(output).then(function() {\r\n\t\t\tconsole.log('Async: Copying to clipboard was successful!');\r\n\t\t}, function(err) {\r\n\t\t\tconsole.error('Async: Could not copy text: ', err);\r\n\t\t});\r\n\t}\r\n\r\n\t@observable feedback = ``\r\n\treportToFeedback = (output) => {\r\n\t\tthis.redirect = \"/my-profile/feedback\"\r\n\t\tthis.feedback = `${output}`\r\n\t\tsetTimeout(()=>{ this.redirect = \"\" }, 50)\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n\r\nexport default appStore"],"mappings":"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"},"metadata":{},"sourceType":"module"}